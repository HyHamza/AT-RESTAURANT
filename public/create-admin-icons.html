<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Create Admin Icons with Badge</title>
  <style>
    body {
      font-family: system-ui, -apple-system, sans-serif;
      padding: 2rem;
      background: #f5f5f5;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
      background: white;
      padding: 2rem;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    h1 {
      color: #ea580c;
      margin-bottom: 1rem;
    }
    .instructions {
      background: #fef3c7;
      border-left: 4px solid #f59e0b;
      padding: 1rem;
      margin-bottom: 2rem;
      border-radius: 4px;
    }
    .icon-preview {
      display: flex;
      gap: 2rem;
      margin: 2rem 0;
      flex-wrap: wrap;
    }
    .icon-item {
      text-align: center;
    }
    canvas {
      border: 2px solid #e5e7eb;
      border-radius: 8px;
      margin-bottom: 0.5rem;
    }
    button {
      background: #ea580c;
      color: white;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.875rem;
      margin-top: 0.5rem;
    }
    button:hover {
      background: #dc2626;
    }
    .size-label {
      font-size: 0.875rem;
      color: #6b7280;
      font-weight: 600;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Create Admin Icons with "ADMIN" Badge</h1>
    
    <div class="instructions">
      <strong>Instructions:</strong>
      <ol>
        <li>Upload your base restaurant icon (the same one used for the user app)</li>
        <li>The script will automatically add an "ADMIN" badge to the bottom</li>
        <li>Download each size and replace the files in <code>/public/assets/admin-icons/</code></li>
        <li>The badge uses orange/red gradient to match the admin theme</li>
      </ol>
    </div>

    <div>
      <label for="baseIcon" style="display: block; margin-bottom: 0.5rem; font-weight: 600;">
        Upload Base Icon (512x512 recommended):
      </label>
      <input type="file" id="baseIcon" accept="image/*" style="margin-bottom: 1rem;">
    </div>

    <div class="icon-preview" id="iconPreview"></div>
  </div>

  <script>
    const sizes = [72, 96, 128, 144, 152, 180, 192, 384, 512];
    
    document.getElementById('baseIcon').addEventListener('change', function(e) {
      const file = e.target.files[0];
      if (!file) return;
      
      const reader = new FileReader();
      reader.onload = function(event) {
        const img = new Image();
        img.onload = function() {
          generateIcons(img);
        };
        img.src = event.target.result;
      };
      reader.readAsDataURL(file);
    });
    
    function generateIcons(baseImage) {
      const preview = document.getElementById('iconPreview');
      preview.innerHTML = '';
      
      sizes.forEach(size => {
        const canvas = document.createElement('canvas');
        canvas.width = size;
        canvas.height = size;
        const ctx = canvas.getContext('2d');
        
        // Draw base icon
        ctx.drawImage(baseImage, 0, 0, size, size);
        
        // Add "ADMIN" badge at bottom
        const badgeHeight = Math.floor(size * 0.25);
        const badgeY = size - badgeHeight;
        
        // Badge background gradient (orange to red)
        const gradient = ctx.createLinearGradient(0, badgeY, size, badgeY + badgeHeight);
        gradient.addColorStop(0, '#ea580c');
        gradient.addColorStop(1, '#dc2626');
        
        ctx.fillStyle = gradient;
        ctx.fillRect(0, badgeY, size, badgeHeight);
        
        // Badge text
        ctx.fillStyle = 'white';
        ctx.font = `bold ${Math.floor(size * 0.12)}px Arial, sans-serif`;
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        ctx.fillText('ADMIN', size / 2, badgeY + badgeHeight / 2);
        
        // Create preview item
        const item = document.createElement('div');
        item.className = 'icon-item';
        
        const displayCanvas = canvas.cloneNode(true);
        displayCanvas.style.width = '128px';
        displayCanvas.style.height = '128px';
        
        const label = document.createElement('div');
        label.className = 'size-label';
        label.textContent = `${size}x${size}`;
        
        const downloadBtn = document.createElement('button');
        downloadBtn.textContent = 'Download';
        downloadBtn.onclick = () => downloadIcon(canvas, size);
        
        item.appendChild(displayCanvas);
        item.appendChild(label);
        item.appendChild(downloadBtn);
        preview.appendChild(item);
      });
    }
    
    function downloadIcon(canvas, size) {
      canvas.toBlob(blob => {
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = `admin-icon-${size}.png`;
        a.click();
        URL.revokeObjectURL(url);
      });
    }
  </script>
</body>
</html>
